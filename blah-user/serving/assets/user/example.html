<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>User</title>
    <style>
      .chart {
        width: 500px;
        height: 300px;
      }
    </style>
  </head>

  <body>
    <div id="count"></div>
    <div id="bar"></div>

    <script src="../../node_modules/xhr-mock/bundle.js"></script>

    <script>
      XhrMock.setup()
      XhrMock.post('http://localhost:8080/user-count', function(req, res) {
        return res.status(200).body(JSON.stringify({count: 10}))
      })

      XhrMock.post('http://localhost:8081/user-count', function(req, res) {
        return res.status(200).body(JSON.stringify([{
          count: 10,
          country: 'Germany'
        }, {
          count: 2,
          country: 'United States'
        }]))
      })
    </script>

    <script src="../../dist/js/user.js"></script>

    <script>
      var events = {on: function() {}}
      var elem = document.getElementById('count')
      var comp = new User.Count(elem, events, {
        baseUrl: 'http://localhost:8080',
        title: 'Count'
      })

      var elem2 = document.getElementById('bar')
      var comp = new User.Bar(elem2, events, {
        baseUrl: 'http://localhost:8081',
        title: 'Bar Chart',
        groupBy: ['country'],
        class: {'example': true}
      })
    </script>
  </body>
</html>
