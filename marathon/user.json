{
  "id": "user",
  "cpus": 0.1,
  "mem": 128.0,
  "instances": 1,
  "container": {
    "type": "DOCKER",
    "docker": {
      "image": "blah/user",
      "network": "BRIDGE",
      "portMappings": [
        {"containerPort": 8080, "hostPort": 0, "servicePort": 8009, "protocol": "tcp"}
      ]
    }
  },
  "env": {
    "ELASTICSEARCH_URL": "http://$BLAH_HOST:9200"
  },
  "labels":{
    "AUTOSCALE_MAX_INSTANCES": "10",
    "AUTOSCALE_MEM_PERCENT": "80",
    "AUTOSCALE_CPU_PERCENT": "80",
    "HAPROXY_GROUP": "external",
    "HAPROXY_0_VHOST": "user.blah.local",
    "HAPROXY_0_HTTP_FRONTEND_ACL": "  acl path_user path_beg /user\n  use_backend {backend} if path_user\n  acl path_user_count path_beg /user-count\n  http-request set-path /count if path_user_count\n  use_backend {backend} if path_user_count\n  acl path_people path_beg /people\n  use_backend {backend} if path_people\n  acl path_worldmap path_beg /worldmap\n  use_backend {backend} if path_worldmap\n"
  },
  "healthChecks": [{
    "protocol": "HTTP",
    "path": "/",
    "intervalSeconds": 10
  }]
}
